import o,{useState as t,useEffect as e}from"react";const n=new(window.SpeechRecognition||window.webkitSpeechRecognition);n.continuous=!0,n.interimResults=!0,n.lang="en-UK";const r=({exportText:r,startMessage:s="Start",stopMessage:c="Stop"})=>{const[l,a]=t(!1),[i,p]=t(null),[u,g]=t([]);return e((()=>{!function(){l?(n.start(),n.onend=()=>{console.log("continue"),n.start()}):(n.stop(),n.onend=()=>{console.log("Stopped mic")});n.onstart=()=>{console.log("Mic's on")},n.onresult=o=>{const t=Array.from(o.results).map((o=>o[0])).map((o=>o.transcript)).join("");console.log(t),p(t),n.onerror=o=>{console.log(o.error)}}}()}),[l]),e((()=>{g(i),r(i)}),[i]),o.createElement(o.Fragment,null,o.createElement("button",{onClick:()=>a(!l)},l?c:s))};export{r as default};
