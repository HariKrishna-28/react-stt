import t,{useState as e,useEffect as n}from"react";const o=new(window.SpeechRecognition||window.webkitSpeechRecognition);o.continuous=!0,o.interimResults=!0,o.lang="en-UK";const r=({exportText:r,startMessage:s="Start",stopMessage:a="Stop"})=>{const[c,i]=e(!1),[l,p]=e(null),[u,m]=e([]);return n((()=>{!function(){c?(o.start(),o.onend=()=>{o.start()}):(o.stop(),o.onend=()=>{});o.onstart=()=>{},o.onresult=t=>{const e=Array.from(t.results).map((t=>t[0])).map((t=>t.transcript)).join("");p(e),o.onerror=t=>{console.log(t.error)}}}()}),[c]),n((()=>{m(l),r(l)}),[l]),t.createElement(t.Fragment,null,t.createElement("button",{onClick:()=>i(!c)},c?a:s))};export{r as default};
